(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"3viS":function(e,t,a){"use strict";var l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("wsJZ");var d=l(a("Bq7H"));a("nUt0");var s=l(a("5t0v"));a("d5TY");var r=l(a("j6C+"));a("K+7k");var i=l(a("5toQ")),n=l(a("zAuD"));a("iQPO");var o=l(a("EzCe"));a("Es4D");var m=l(a("+M86"));a("Lc1E");var u=l(a("tERs")),f=l(a("FQm9")),c=a("ezbJ"),p=a("X7BR"),h=u.default.Item,k=m.default.TextArea,g=o.default.Option;class v extends f.default.Component{constructor(e){super(e),this.showModalHandler=(e=>{e&&e.stopPropagation(),this.setState({visible:!0})}),this.okHandler=(()=>{var e=this.props,t=e.onOk,a=e.form,l=e.data;a.validateFields((e,d)=>{e||(l?t(l.id,d):t(d),a.resetFields(),this.hideModalHandler())})}),this.hideModalHandler=(()=>{this.setState({visible:!1})}),this.state={visible:!1}}render(){var e=this.state.visible,t=this.props,a=t.children,l=t.form,v=t.data,E=void 0===v?{}:v,M=E.name,b=void 0===M?"":M,w=E.keywords,y=void 0===w?"":w,x=E.match_method,H=void 0===x?"":x,T=E.ignore_org,I=void 0===T?"":T,_=E.ignore_repo,C=void 0===_?"":_,F=E.mail,S=void 0===F?"":F,V=E.pages,z=void 0===V?5:V,O=E.interval,J=void 0===O?60:O,j=l.getFieldDecorator,q={labelCol:{span:6},wrapperCol:{span:14}};return f.default.createElement("span",null,f.default.createElement("span",{onClick:this.showModalHandler},a),f.default.createElement(d.default,{title:E.name?(0,c.formatMessage)({id:"task.modal.edit-task"}):(0,c.formatMessage)({id:"task.modal.create-task"}),visible:e,onOk:this.okHandler,onCancel:this.hideModalHandler,style:{top:20}},f.default.createElement(u.default,{layout:"horizontal"},f.default.createElement(h,(0,n.default)({},q,{label:(0,c.formatMessage)({id:"task.modal.field.task-name"})}),j("name",{initialValue:b,rules:[{required:!0,message:(0,c.formatMessage)({id:"task.modal.field.task-name.required"})}]})(f.default.createElement(m.default,null))),f.default.createElement(h,(0,n.default)({},q,{label:(0,c.formatMessage)({id:"task.modal.field.keyword"}),help:(0,c.formatMessage)({id:"task.modal.field.keyword.hint"})}),j("keywords",{initialValue:y,rules:[{required:!0}]})(f.default.createElement(k,{rows:4}))),f.default.createElement(h,(0,n.default)({},q,{label:f.default.createElement("span",null,(0,c.formatMessage)({id:"task.modal.field.match-method"}),"\xa0",f.default.createElement(r.default,{title:f.default.createElement("div",null,f.default.createElement("p",null,(0,c.formatMessage)({id:"task.modal.field.match-method.0.hint"})),f.default.createElement("p",null,(0,c.formatMessage)({id:"task.modal.field.match-method.1.hint"})),f.default.createElement("p",null,(0,c.formatMessage)({id:"task.modal.field.match-method.2.hint"})))},f.default.createElement(i.default,{type:"question-circle-o"})))}),j("match_method",{initialValue:H,rules:[{required:!0}]})(f.default.createElement(o.default,null,p.matchMethod.map((e,t)=>f.default.createElement(g,{key:"matchMethod".concat(e),value:t},(0,c.formatMessage)({id:"task.modal.field.match-method.".concat(t)})))))),f.default.createElement(h,(0,n.default)({},q,{label:(0,c.formatMessage)({id:"task.modal.field.ignore-username"}),help:(0,c.formatMessage)({id:"task.modal.field.ignore-username.hint"})}),j("ignore_org",{initialValue:I})(f.default.createElement(k,{rows:3}))),f.default.createElement(h,(0,n.default)({},q,{label:(0,c.formatMessage)({id:"task.modal.field.ignore-repo"}),help:(0,c.formatMessage)({id:"task.modal.field.ignore-repo.hint"})}),j("ignore_repo",{initialValue:C})(f.default.createElement(k,{rows:3}))),f.default.createElement(h,(0,n.default)({},q,{label:(0,c.formatMessage)({id:"task.modal.field.email"}),help:(0,c.formatMessage)({id:"task.modal.field.email.hint"})}),j("mail",{initialValue:S})(f.default.createElement(m.default,null))),f.default.createElement(h,(0,n.default)({},q,{label:(0,c.formatMessage)({id:"task.modal.field.crawl-pages"}),help:(0,c.formatMessage)({id:"task.modal.field.crawl-pages.hint"})}),j("pages",{initialValue:z})(f.default.createElement(s.default,{min:0}))),f.default.createElement(h,(0,n.default)({},q,{label:(0,c.formatMessage)({id:"task.modal.field.crawl-interval"}),help:(0,c.formatMessage)({id:"task.modal.field.crawl-interval.hint"})}),j("interval",{initialValue:J})(f.default.createElement(s.default,{min:0}))))))}}var E=u.default.create()(v);t.default=E},tZ35:function(e,t,a){"use strict";var l=a("mZ4U");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("SLIc");var d=l(a("J2W+"));a("NFdS");var s=l(a("BrpB"));a("MjJA");var r=l(a("3oFS"));a("g6kn");var i=l(a("VIEj"));a("bch9");var n=l(a("RXZz"));a("d5TY");var o=l(a("j6C+"));a("Ttm4");var m=l(a("uCE4"));a("Lc1E");var u,f,c,p=l(a("tERs")),h=l(a("FQm9")),k=a("LneV"),g=l(a("QHXG")),v=a("ezbJ"),E=a("X7BR"),M=l(a("3viS")),b=p.default.Item,w=(u=(0,k.connect)(e=>{var t=e.task;return{task:t}}),u((c=class extends h.default.Component{constructor(e){super(e),this.changePage=(e=>{var t=this.props.dispatch;t({type:"task/fetchTasks",payload:{page:e,pageSize:10}})}),this.createTaskHandler=(e=>{var t=this.props.dispatch;t({type:"task/createTasks",payload:e})}),this.editTaskHandler=((e,t)=>{var a=this.props.dispatch;a({type:"task/editTask",id:e,payload:t})}),this.removeTaskHandler=(e=>{var t=this.props.dispatch;t({type:"task/removeTask",id:e})}),this.columns=[{title:"id",dataIndex:"id"},{title:(0,v.formatMessage)({id:"task.table.columns.task-name"}),dataIndex:"name",render:(e,t)=>h.default.createElement(g.default,{to:"/list/?taskId=".concat(t.id)},e)},{title:(0,v.formatMessage)({id:"task.table.columns.keyword"}),dataIndex:"keywords"},{title:(0,v.formatMessage)({id:"task.modal.field.match-method"}),dataIndex:"match_method",render:e=>(0,v.formatMessage)({id:"task.modal.field.match-method.".concat(e)})},{title:(0,v.formatMessage)({id:"task.table.columns.crawl-pages"}),dataIndex:"pages"},{title:(0,v.formatMessage)({id:"task.table.columns.crawl-interval"}),dataIndex:"interval",render:e=>"".concat(e," ").concat((0,v.formatMessage)({id:"task.table.columns.minutes"}))},{title:(0,v.formatMessage)({id:"task.table.columns.status"}),dataIndex:"status",render:e=>{switch(E.taskStatus[e]){case"\u7b49\u5f85\u4e2d":return h.default.createElement(m.default,{status:"default",text:(0,v.formatMessage)({id:"task.status.waiting"})});case"\u8fd0\u884c\u4e2d":return h.default.createElement(m.default,{status:"processing",text:(0,v.formatMessage)({id:"task.status.running"})});default:return h.default.createElement(m.default,{status:"success",text:(0,v.formatMessage)({id:"task.status.finished"})})}}},{title:(0,v.formatMessage)({id:"task.table.columns.start-time"}),dataIndex:"start_time"},{title:(0,v.formatMessage)({id:"task.table.columns.finished-time"}),dataIndex:"finished_time"},{title:(0,v.formatMessage)({id:"task.table.columns.operation"}),key:"action",render:e=>h.default.createElement("span",null,1===e.status?h.default.createElement(o.default,{title:(0,v.formatMessage)({id:"task.operation.no-operations-hint"})},h.default.createElement("span",null,h.default.createElement(v.FormattedMessage,{id:"task.operation.no-operations"}))):h.default.createElement("div",null,h.default.createElement(M.default,{data:e,onOk:this.editTaskHandler},h.default.createElement("a",null,h.default.createElement(v.FormattedMessage,{id:"task.operation.edit"}))),h.default.createElement(n.default,{type:"vertical"}),h.default.createElement(i.default,{title:(0,v.formatMessage)({id:"task.operation.delete-hint"}),onConfirm:()=>this.removeTaskHandler(e.id)},h.default.createElement("a",null,h.default.createElement(v.FormattedMessage,{id:"task.operation.delete"})))))}]}componentWillMount(){var e=this.props.dispatch;e({type:"task/fetchTasks",payload:{page:1,pageSize:10}})}render(){var e=this.props.task;return h.default.createElement("div",null,h.default.createElement(d.default,{bordered:!1},h.default.createElement(p.default,null,h.default.createElement(b,null,h.default.createElement(M.default,{onOk:this.createTaskHandler},h.default.createElement(r.default,{type:"primary"},h.default.createElement(v.FormattedMessage,{id:"task.operation.create-task"}))))),h.default.createElement(s.default,{columns:this.columns,dataSource:e.tasks,rowKey:"id",pagination:{current:e.page,total:e.total,onChange:this.changePage}})))}},f=c))||f),y=w;t.default=y}}]);